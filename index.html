<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>HR Entry App</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="manifest" href="manifest.json">
<style>
body{font-family:Arial;background:#f4f6f8;margin:0;padding:10px}
h2{text-align:center}
.counter{font-weight:bold;text-align:center;margin-bottom:10px}
.field{display:flex;align-items:center;margin-bottom:6px}
.field label{width:45%;font-size:13px}
.field input{flex:1;padding:5px}
.icon{width:20px;text-align:center}
button{width:100%;padding:10px;margin-top:10px;background:#00796b;color:#fff;border:none;font-size:16px}
</style>
</head>
<body>
<h2>HR Form</h2>
<div class="counter">Pending: <span id="pending">25</span></div>
<form id="form"></form>
<button type="submit" form="form">Submit</button>
<button onclick="location.href='export.html'">Export</button>
<script>
const fields=["Emp Id*","Name*","Gender*","CNIC*","Date of Birth*","CNIC Issue date*","CNIC Expiry Date*","Present Address*","Permanent Address*","Father Name*","Mother Name*","Service Start Date*","Cell No.*","Phone No 1","Email","Department*","SubDepartment*","Grade*","Designation*","City*","Married*","Religion*","Blood Group","Bank Account No","Bank"];
const form=document.getElementById("form");
const pending=document.getElementById("pending");
fields.forEach(f=>{
 const d=document.createElement("div");d.className="field";
 d.innerHTML=`<label>${f}</label><span class="icon">✖</span><input>`;
 form.appendChild(d);
});
function update(){
 let p=0;
 [...form.elements].forEach(e=>{
  const i=e.previousElementSibling;
  if(e.value.trim()){i.textContent="✔";i.style.color="green"}
  else{i.textContent="✖";i.style.color="red";p++}
 });
 pending.textContent=p;
}
form.oninput=update;
form.onsubmit=e=>{
 e.preventDefault();
 const r=[...form.elements].map(e=>e.value);
 const n=new Date();
 r.push(n.toLocaleDateString(),n.toLocaleTimeString());
 const a=JSON.parse(localStorage.getItem("records")||"[]");
 a.push(r);
 localStorage.setItem("records",JSON.stringify(a));
 form.reset();update();alert("Saved");
}
update();
</script>
</body>
</html>